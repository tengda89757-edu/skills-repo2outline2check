---
name: ai-empirical-fidelity-verifier
description: |
  AI+实证研究代码仓库与论文大纲保真度验证器。严格、逐点验证跨学科论文大纲中的每一项声明是否与代码仓库中的实际文件、代码逻辑、实验日志及结果完全对应，同时验证AI技术声明和实证研究声明的准确性。
  Use when: 验证跨学科论文大纲准确性、论文提交前审核、IRB/伦理审查材料验证
---

# AI + Empirical Research Fidelity Verifier

严格验证跨学科论文大纲与代码仓库的一致性。

## 核心定位

该Skill专为**AI+实证研究**论文设计，验证：

| 验证维度 | 内容 | 特殊要求 |
|----------|------|----------|
| AI技术声明 | 算法、模型、性能 | 代码实现匹配 |
| 实证研究声明 | 方法、样本、结果 | 数据/文档支持 |
| 跨学科声明 | 理论整合、贡献 | 两领域证据支持 |

---

## 前置条件

**必须先完成Skill 2的大纲生成**

```
┌─────────────────────────────────────────┐
│  Skill 2: Outline Synthesizer           │
│  Output: Paper Outline                  │
└─────────────────────────────────────────┘
              ↓
┌─────────────────────────────────────────┐
│  Skill 3: Fidelity Verifier             │
└─────────────────────────────────────────┘
```

---

## 输入要求

### 必需输入
| 输入项 | 格式 | 说明 |
|--------|------|------|
| GitHub仓库URL | string | 完整访问权限 |
| 论文大纲 | Markdown/LaTeX | Skill 2生成的完整大纲 |
| 研究领域 | enum | education/medicine/social_science |

### 可选输入
- IRB/伦理审批文件
- 预注册方案
- 补充材料

---

## 输出格式

### 跨学科验证报告

```markdown
# AI + Empirical Research Fidelity Verification Report

## 验证摘要

| 统计项 | 数量 |
|--------|------|
| 总声明数 | XX |
| AI技术声明 | XX |
| 实证研究声明 | XX |
| 跨学科声明 | XX |
| Pass | XX |
| Warning | XX |
| Fail | XX |
| Critical Fail | XX |
| 通过率 | XX% |

## 最终判定

**状态**: [✅ 可直接用于论文提交 / ⚠️ 需修正后提交 / ❌ 需返回修正]

---

## AI技术声明验证

| 声明内容 | 验证结果 | 精确证据位置 | 备注 |
|----------|----------|--------------|------|
| [算法声明] | ✅ Pass | src/algorithm.py:L10-L50 | 实现匹配 |
| [性能声明] | ❌ Fail | N/A | 结果文件缺失 |

---

## 实证研究声明验证

| 声明内容 | 验证结果 | 精确证据位置 | 备注 |
|----------|----------|--------------|------|
| [样本声明] | ✅ Pass | data/participants.csv | 数据匹配 |
| [效果声明] | ⚠️ Warning | results/main.csv | 效应量未报告 |

---

## 跨学科声明验证

| 声明内容 | 验证结果 | 精确证据位置 | 备注 |
|----------|----------|--------------|------|
| [理论整合] | ✅ Pass | docs/theory.md | 框架清晰 |
| [贡献声明] | ❌ Fail | N/A | 证据不足 |

---

## Critical Fail 详情

### CF-1: [标题]

**声明内容**: "[具体声明]"

**验证结果**: ❌ Critical Fail

**缺失证据**:
- [缺失项1]
- [缺失项2]

**影响**: [影响说明]

**建议**: [修正建议]

---

## Fail 详情

### F-1: [标题]

**声明内容**: "[具体声明]"

**验证结果**: ❌ Fail

**缺失证据**: [说明]

**建议**: [修正建议]

---

## 领域专属验证结果

### [AI+教育/AI+医学/AI+社科] 特殊验证

| 检查项 | 状态 | 证据位置 | 说明 |
|--------|------|----------|------|
| [领域专属项1] | ✅/❌ | [路径] | [说明] |

---

## 修正建议汇总

| 优先级 | 问题 | 修正方案 | 预计工作量 |
|--------|------|----------|------------|
| P0 | [关键问题] | [方案] | [估计] |
| P1 | [重要问题] | [方案] | [估计] |
```

---

## 验证标准

### 验证结果分类

| 结果 | 符号 | 定义 | 处理方式 |
|------|------|------|----------|
| Pass | ✅ | 声明有精确证据支持 | 通过 |
| Warning | ⚠️ | 证据存在但不完整 | 建议补充 |
| Fail | ❌ | 缺少关键证据 | 需修正 |
| Critical Fail | ❌❌ | 核心声明无证据 | 必须修正 |

---

## AI技术声明验证

### 1. 算法/模型声明

**验证要点**:
```
□ 算法描述是否与代码实现一致？
  - 检查: src/ 目录下的核心代码
  - 验证: 算法步骤是否匹配
  - 验证: 参数设置是否一致

□ 模型架构是否与描述一致？
  - 检查: model.py 或类似文件
  - 验证: 层结构是否匹配
  - 验证: 超参数是否一致

□ 形式化定义是否正确？
  - 检查: 数学符号与代码变量对应
  - 验证: 公式是否正确实现
```

**验证模板**:
```
声明: "We propose [算法名称], which [功能描述]."

验证步骤:
1. 定位算法实现代码
2. 检查核心函数/类
3. 验证算法步骤
4. 检查参数配置

结果格式:
| 声明 | 结果 | 证据 | 备注 |
|------|------|------|------|
| 算法实现 | ✅/❌ | src/algorithm.py:L10-L50 | [说明] |
```

---

### 2. 性能声明

**验证要点**:
```
□ 性能数值是否与结果文件一致？
  - 检查: results/ 目录下的结果文件
  - 验证: 数值精确匹配
  - 验证: 统计信息正确

□ 基线对比是否准确？
  - 检查: 基线结果来源
  - 验证: 对比条件公平
  - 验证: 数值正确

□ 统计显著性是否正确？
  - 检查: p值计算
  - 验证: 置信区间计算
  - 验证: 效应量计算
```

---

### 3. 创新声明

**验证要点**:
```
□ 技术创新是否有代码支持？
  - 检查: 创新点对应的代码实现
  - 验证: 与现有方法的区别

□ 对比是否公平？
  - 检查: 基线实现
  - 验证: 实验设置一致
```

---

## 实证研究声明验证

### 1. 研究设计声明

**验证要点**:
```
□ 研究设计类型是否准确？
  - 检查: docs/methods.md 或 README.md
  - 验证: 设计描述与实际一致

□ 预注册是否完成？
  - 检查: OSF/ClinicalTrials.gov链接
  - 验证: 预注册内容与实际一致

□ 报告指南是否遵循？
  - 检查: 是否声明遵循CONSORT/STROBE等
  - 验证: 报告内容是否符合要求
```

---

### 2. 样本声明

**验证要点**:
```
□ 样本量是否准确？
  - 检查: data/participants.csv 或类似文件
  - 验证: 数量匹配

□ 样本特征是否准确？
  - 检查: 人口统计学数据
  - 验证: 描述统计匹配

□ 纳入排除是否执行？
  - 检查: 筛选记录
  - 验证: 流程图数据匹配
```

---

### 3. 效果声明

**验证要点**:
```
□ 效果量是否准确？
  - 检查: results/main.csv
  - 验证: 数值精确匹配
  - 验证: 计算方法正确

□ 统计检验是否正确？
  - 检查: p值、置信区间
  - 验证: 计算正确

□ 效应量是否报告？
  - 检查: Cohen's d, η²等
  - 验证: 计算正确
```

---

### 4. 伦理声明

**验证要点**:
```
□ IRB批准是否真实？
  - 检查: IRB批准文件
  - 验证: 批准号、日期、机构

□ 知情同意是否获得？
  - 检查: 同意书模板
  - 验证: 过程描述

□ 数据保护是否实施？
  - 检查: 数据管理计划
  - 验证: 脱敏措施
```

---

## 跨学科声明验证

### 1. 理论整合声明

**验证要点**:
```
□ AI理论引用是否正确？
  - 检查: 引用的AI文献
  - 验证: 理论解释准确

□ 领域理论引用是否正确？
  - 检查: 引用的领域文献
  - 验证: 理论解释准确

□ 整合框架是否有依据？
  - 检查: docs/theory.md
  - 验证: 框架逻辑清晰
```

---

### 2. 贡献声明

**验证要点**:
```
□ 技术贡献是否有证据？
  - 检查: 代码实现
  - 验证: 创新点可验证

□ 领域贡献是否有证据？
  - 检查: 实证结果
  - 验证: 领域价值可论证

□ 跨学科贡献是否合理？
  - 检查: 两领域证据
  - 验证: 不过度声明
```

---

## 领域专属验证

### AI+教育专属验证

```
□ 学习效果声明
  - 检查: 学习评估结果
  - 验证: 效应量和统计显著性

□ 教育理论应用
  - 检查: 理论到设计的映射
  - 验证: 实施符合理论

□ 教育伦理
  - 检查: 学生/家长同意
  - 验证: 数据保护措施

□ 实施可行性
  - 检查: 课堂实施记录
  - 验证: 教师反馈存在
```

---

### AI+医学专属验证

```
□ 临床验证声明
  - 检查: 临床试验注册
  - 验证: 注册信息与实际一致

□ 诊断性能声明
  - 检查: 敏感性/特异性结果
  - 验证: 计算正确

□ 安全性声明
  - 检查: 不良事件记录
  - 验证: 风险讨论充分

□ 临床意义
  - 检查: 临床效用分析
  - 验证: 讨论充分
```

---

### AI+社科专属验证

```
□ 社科方法论声明
  - 检查: 方法论描述
  - 验证: 符合社科规范

□ 定性发现（如适用）
  - 检查: 编码过程记录
  - 验证: 引用支持

□ 社会影响声明
  - 检查: 影响讨论
  - 验证: 论证合理

□ 伦理审查
  - 检查: 伦理批准
  - 验证: 保护措施充分
```

---

## 高风险验证点

### Critical Fail 触发条件

```
以下情况触发 Critical Fail:

1. AI技术维度
   □ 核心算法无代码实现
   □ 性能声明无结果支持
   □ 与基线对比条件不公平

2. 实证研究维度
   □ 无IRB批准但声称有人类被试
   □ 效果声明无统计支持
   □ 样本声明与数据不符

3. 跨学科维度
   □ 理论整合无依据
   □ 贡献声明过度夸大
   □ 两领域证据严重缺失
```

---

## 执行约束

### 强制要求

```
1. 仅允许基于仓库中真实存在的文件进行判断
2. 禁止任何推测性语言
3. 必须提供精确的文件路径和行号
4. 无法找到证据时必须标记为 Fail
5. Critical Fail 必须阻止提交
```

### 禁止行为

```
❌ "根据代码推测应该存在..."
❌ "很可能有这个功能..."
❌ "根据趋势判断..."
❌ "虽然没找到但应该是..."
❌ 使用模糊证据位置
```

### 必须提供的信息

```
✅ 文件路径: src/method.py
✅ 行号范围: L10-L50
✅ 代码片段: 关键代码摘要
✅ 或: 数据文件具体数值
✅ 或: 文档具体内容
```

---

## 工作流集成

```
┌─────────────────────────────────────────────────────────────┐
│                    Pipeline Stage 3                         │
├─────────────────────────────────────────────────────────────┤
│  Input: Repository + Paper Outline + Research Domain        │
│     ↓                                                        │
│  ┌─────────────────────────────────────┐                    │
│  │  Skill 3: Fidelity Verifier         │                    │
│  │  - AI技术声明验证                    │                    │
│  │  - 实证研究声明验证                  │                    │
│  │  - 跨学科声明验证                    │                    │
│  │  - 领域专属验证                      │                    │
│  └─────────────────────────────────────┘                    │
│     ↓                                                        │
│  All Pass?                                                   │
│     ├── Yes → ✅ 可直接用于论文提交                          │
│     └── No  → 触发修正循环                                   │
│                 ↓                                            │
│            ┌─────────────────────────────┐                  │
│            │  Return to Skill 1 or 2     │                  │
│            └─────────────────────────────┘                  │
└─────────────────────────────────────────────────────────────┘
```

---

## 修正循环

```
Critical Fail → 返回 Skill 1（补充实验/数据）
Fail → 返回 Skill 2（修正大纲声明）
Warning → 可选择修正或提交（建议修正）
```

---

## 使用示例

### 输入

```json
{
  "repo_url": "https://github.com/example/ai-tutoring",
  "outline": "# AI Tutoring System...\n## 1. Introduction...",
  "research_domain": "education"
}
```

### 输出片段

```markdown
# AI + Empirical Research Fidelity Verification Report

## 验证摘要

| 统计项 | 数量 |
|--------|------|
| 总声明数 | 35 |
| AI技术声明 | 12 |
| 实证研究声明 | 15 |
| 跨学科声明 | 8 |
| Pass | 28 |
| Warning | 4 |
| Fail | 2 |
| Critical Fail | 1 |
| 通过率 | 80% |

## 最终判定

**状态**: ❌ 需返回修正

## Critical Fail 详情

### CF-1: 学习效果声明无统计支持

**声明内容**: "Students using the AI system showed significant improvement in learning outcomes."

**验证结果**: ❌ Critical Fail

**缺失证据**:
- 未找到统计检验结果
- 未报告效应量
- 未报告置信区间

**影响**: 核心实证贡献无法验证

**建议**: 
1. 添加统计检验代码和结果
2. 报告效应量和置信区间
3. 或修改声明为描述性陈述
```
